// ================================
// ğŸ¯ ä¸»æ ·å¼å…¥å£
// ================================

@use 'sass:map';
// @use 'variables' as *;
// @use 'mixins' as *;

// ================================
// CSS å˜é‡ï¼ˆä¾› JS ä½¿ç”¨ï¼‰
// ================================
:root {
  // ä¸»è‰²è°ƒï¼ˆä¸»é¢˜æ— å…³ï¼‰
  --color-primary: #{color('primary')};
  --color-primary-dark: #{color('primary-dark')};
  --color-primary-light: #{color('primary-light')};
  --color-accent: #{color('accent')};
  --color-accent-dark: #{color('accent-dark')};
  --color-accent-light: #{color('accent-light')};

  // å­—ä½“
  --font-primary: #{$font-family-primary};
  --font-display: #{$font-family-display};

  // å®¹å™¨
  --container-max-width: #{$container-max-width};
  --container-padding: #{$container-padding};

  // å¤´éƒ¨é«˜åº¦
  --header-height: 70px;

  @include mobile-only {
    --header-height: 60px;
  }
}

// æš—é»‘ä¸»é¢˜å˜é‡
:root.dark {
  --color-bg: #{color('dark')};
  --color-bg-soft: #{color('dark-soft')};
  --color-bg-muted: #{color('dark-muted')};
  --color-text-primary: #{color('text-primary')};
  --color-text-secondary: #{color('text-secondary')};
  --color-text-muted: #{color('text-muted')};
}

// æµ…è‰²ä¸»é¢˜å˜é‡
:root:not(.dark) {
  --color-bg: #{color('light')};
  --color-bg-soft: #{color('light-soft')};
  --color-bg-muted: #{color('light-muted')};
  --color-text-primary: #{color('dark')};
  --color-text-secondary: #{color('text-secondary')};
  --color-text-muted: #{color('text-muted')};
}

// å‘åå…¼å®¹ï¼ˆä¿æŒæ—§å˜é‡åï¼‰
:root {
  --color-dark: var(--color-bg);
  --color-dark-soft: var(--color-bg-soft);
  --color-dark-muted: var(--color-bg-muted);
  --color-light: var(--color-bg);
}

// ================================
// åŸºç¡€é‡ç½®
// ================================
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-primary);
  font-size: font-size('base');
  line-height: 1.6;
  color: var(--color-text-primary);
  background-color: var(--color-bg);
  min-height: 100vh;
  overflow-x: hidden;
  transition: background-color 0.3s ease, color 0.3s ease;

  @include custom-scrollbar(8px, var(--color-bg-muted), color('primary'));
}

// ================================
// æ’ç‰ˆ
// ================================
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-display);
  font-weight: map.get($font-weights, 'semibold');
  line-height: 1.2;
  color: var(--color-text-primary);
}

h1 {
  font-size: font-size('5xl');
}
h2 {
  font-size: font-size('4xl');
}
h3 {
  font-size: font-size('3xl');
}
h4 {
  font-size: font-size('2xl');
}
h5 {
  font-size: font-size('xl');
}
h6 {
  font-size: font-size('lg');
}

p {
  color: var(--color-text-secondary);
  margin-bottom: spacing('4');

  &:last-child {
    margin-bottom: 0;
  }
}

a {
  color: var(--color-primary);
  text-decoration: none;
  @include transition(color);

  &:hover {
    color: var(--color-primary-light);
  }
}

// ================================
// å›¾ç‰‡å’Œåª’ä½“
// ================================
img,
video,
svg {
  max-width: 100%;
  height: auto;
  display: block;
}

// ================================
// åˆ—è¡¨
// ================================
ul,
ol {
  list-style: none;
}

// ================================
// è¡¨å•å…ƒç´ 
// ================================
button {
  @include button-reset;
  @include focus-ring;
}

input,
textarea,
select {
  font: inherit;
  color: inherit;

  &:focus {
    outline: none;
  }
}

// ================================
// å®¹å™¨
// ================================
.container {
  @include container;
}

// ================================
// èŠ‚æ®µ
// ================================
.section {
  padding-block: spacing('16');

  @include mobile-only {
    padding-block: spacing('10');
  }

  &--hero {
    padding-block: spacing('24');

    @include mobile-only {
      padding-block: spacing('16');
    }
  }
}

// ================================
// æŒ‰é’®ç»„ä»¶
// ================================
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: spacing('2');
  padding: spacing('3') spacing('6');
  font-size: font-size('base');
  font-weight: map.get($font-weights, 'medium');
  border-radius: map.get($radius, 'lg');
  cursor: pointer;
  @include transition(all);
  @include focus-ring;

  // ä¸»è¦æŒ‰é’®
  &--primary {
    background: linear-gradient(
      135deg,
      var(--color-primary) 0%,
      var(--color-primary-dark) 100%
    );
    color: var(--color-dark);
    border: none;

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
    }

    &:active {
      transform: translateY(0);
    }
  }

  // è½®å»“æŒ‰é’®
  &--outline {
    background: transparent;
    color: var(--color-primary);
    border: 2px solid var(--color-primary);

    &:hover {
      background: rgba(0, 212, 255, 0.1);
      transform: translateY(-2px);
    }
  }

  // å¹½çµæŒ‰é’®
  &--ghost {
    background: transparent;
    color: var(--color-text-secondary);
    border: none;

    &:hover {
      color: var(--color-primary);
      background: rgba(0, 212, 255, 0.1);
    }
  }

  // å°ºå¯¸å˜ä½“
  &--sm {
    padding: spacing('2') spacing('4');
    font-size: font-size('sm');
  }

  &--lg {
    padding: spacing('4') spacing('8');
    font-size: font-size('lg');
  }

  // å›¾æ ‡æŒ‰é’®
  &--icon {
    padding: spacing('3');
    aspect-ratio: 1;
  }
}

// ================================
// å¡ç‰‡ç»„ä»¶
// ================================
.card {
  background: var(--color-bg-soft);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: map.get($radius, 'xl');
  padding: spacing('6');
  @include transition(all);

  &:hover {
    border-color: rgba(0, 212, 255, 0.2);
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }

  &--glass {
    @include glass-dark(20px, 0.5);
    border-color: rgba(255, 255, 255, 0.1);
  }
}

// æµ…è‰²ä¸»é¢˜ä¸‹çš„å¡ç‰‡æ ·å¼
:root:not(.dark) .card {
  border-color: rgba(0, 0, 0, 0.1);

  &:hover {
    border-color: rgba(0, 212, 255, 0.3);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }
}

// ================================
// å¾½ç« ç»„ä»¶
// ================================
.badge {
  display: inline-flex;
  align-items: center;
  padding: spacing('1') spacing('3');
  font-size: font-size('xs');
  font-weight: map.get($font-weights, 'medium');
  border-radius: map.get($radius, 'full');
  background: rgba(0, 212, 255, 0.1);
  color: var(--color-primary);
  border: 1px solid rgba(0, 212, 255, 0.2);
}

// ================================
// åˆ†éš”çº¿
// ================================
.divider {
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1) 50%,
    transparent
  );
  margin-block: spacing('8');
}

// ================================
// é¡µé¢è¿‡æ¸¡åŠ¨ç”»
// ================================
.page-enter-active,
.page-leave-active {
  transition: opacity 300ms ease, transform 300ms ease;
}

.page-enter-from {
  opacity: 0;
  transform: translateY(20px);
}

.page-leave-to {
  opacity: 0;
  transform: translateY(-20px);
}

// ================================
// å·¥å…·ç±»
// ================================
.text-center {
  text-align: center;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}

.text-gradient {
  @include gradient-text(
    linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 100%)
  );
}

.text-glow {
  @include text-glow(color('primary'));
}

.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// ä»…åœ¨æŒ‡å®šè®¾å¤‡æ˜¾ç¤º
.mobile-only {
  @include desktop-only {
    display: none !important;
  }
}

.desktop-only {
  @include mobile-only {
    display: none !important;
  }
}
