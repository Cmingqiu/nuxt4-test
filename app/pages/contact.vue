<script setup lang="ts">
useSeoMeta({
  title: 'è”ç³»æˆ‘ä»¬',
  description: 'ä¸æˆ‘ä»¬å–å¾—è”ç³»ï¼Œè·å–ä¸“ä¸šçš„æŠ€æœ¯å’¨è¯¢æœåŠ¡'
})

const formData = reactive({
  name: '',
  email: '',
  company: '',
  phone: '',
  service: '',
  message: ''
})

const services = [
  'ä¼ä¸šæ•°å­—åŒ–è½¬å‹',
  'äº‘ç«¯è§£å†³æ–¹æ¡ˆ',
  'æ•°æ®åˆ†æå¹³å°',
  'AI æ™ºèƒ½åº”ç”¨',
  'å®‰å…¨é˜²æŠ¤ä½“ç³»',
  'æŠ€æœ¯å’¨è¯¢æœåŠ¡',
  'å…¶ä»–'
]

const isSubmitting = ref(false)
const isSubmitted = ref(false)

const handleSubmit = async () => {
  isSubmitting.value = true
  
  // æ¨¡æ‹Ÿæäº¤
  await new Promise(resolve => setTimeout(resolve, 1500))
  
  isSubmitting.value = false
  isSubmitted.value = true
}

const contactInfo = [
  { icon: 'ğŸ“', label: 'åœ°å€', value: 'åŒ—äº¬å¸‚æœé˜³åŒºç§‘æŠ€å›­åŒºAåº§1001' },
  { icon: 'ğŸ“', label: 'ç”µè¯', value: '+86 400-888-8888' },
  { icon: 'âœ‰ï¸', label: 'é‚®ç®±', value: 'contact@techfuture.com' },
  { icon: 'â°', label: 'å·¥ä½œæ—¶é—´', value: 'å‘¨ä¸€è‡³å‘¨äº” 9:00-18:00' }
]
</script>

<template>
  <div class="contact-page">
    <!-- Hero -->
    <section class="contact-hero section section--hero">
      <div class="contact-hero__container container">
        <span class="badge">è”ç³»æˆ‘ä»¬</span>
        <h1 class="contact-hero__title">
          è®©æˆ‘ä»¬
          <span class="text-gradient">å¼€å§‹å¯¹è¯</span>
        </h1>
        <p class="contact-hero__desc">
          æ— è®ºæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€æ±‚ï¼Œæˆ‘ä»¬éƒ½æœŸå¾…ä¸æ‚¨äº¤æµ
        </p>
      </div>
    </section>
    
    <!-- è”ç³»è¡¨å• -->
    <section class="contact-main section">
      <div class="contact-main__container container">
        <div class="contact-main__grid">
          <!-- è¡¨å• -->
          <div class="contact-form card">
            <Transition name="fade" mode="out-in">
              <div v-if="!isSubmitted" key="form">
                <h2 class="contact-form__title">å‘é€æ¶ˆæ¯</h2>
                <form @submit.prevent="handleSubmit" class="contact-form__form">
                  <div class="contact-form__row">
                    <div class="form-group">
                      <label for="name">å§“å *</label>
                      <input 
                        id="name"
                        v-model="formData.name" 
                        type="text" 
                        placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="email">é‚®ç®± *</label>
                      <input 
                        id="email"
                        v-model="formData.email" 
                        type="email" 
                        placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±"
                        required
                      />
                    </div>
                  </div>
                  
                  <div class="contact-form__row">
                    <div class="form-group">
                      <label for="company">å…¬å¸åç§°</label>
                      <input 
                        id="company"
                        v-model="formData.company" 
                        type="text" 
                        placeholder="è¯·è¾“å…¥å…¬å¸åç§°"
                      />
                    </div>
                    <div class="form-group">
                      <label for="phone">è”ç³»ç”µè¯</label>
                      <input 
                        id="phone"
                        v-model="formData.phone" 
                        type="tel" 
                        placeholder="è¯·è¾“å…¥è”ç³»ç”µè¯"
                      />
                    </div>
                  </div>
                  
                  <div class="form-group">
                    <label for="service">æ„Ÿå…´è¶£çš„æœåŠ¡</label>
                    <select id="service" v-model="formData.service">
                      <option value="">è¯·é€‰æ‹©æœåŠ¡ç±»å‹</option>
                      <option v-for="service in services" :key="service" :value="service">
                        {{ service }}
                      </option>
                    </select>
                  </div>
                  
                  <div class="form-group">
                    <label for="message">ç•™è¨€å†…å®¹ *</label>
                    <textarea 
                      id="message"
                      v-model="formData.message"
                      rows="5"
                      placeholder="è¯·æè¿°æ‚¨çš„éœ€æ±‚æˆ–é—®é¢˜..."
                      required
                    ></textarea>
                  </div>
                  
                  <button type="submit" class="btn btn--primary btn--lg" :disabled="isSubmitting">
                    {{ isSubmitting ? 'æäº¤ä¸­...' : 'å‘é€æ¶ˆæ¯' }}
                  </button>
                </form>
              </div>
              
              <div v-else key="success" class="contact-form__success">
                <span class="contact-form__success-icon">âœ“</span>
                <h2>æ¶ˆæ¯å·²å‘é€</h2>
                <p>æ„Ÿè°¢æ‚¨çš„ç•™è¨€ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»ï¼</p>
                <button class="btn btn--outline" @click="isSubmitted = false">
                  å‘é€æ–°æ¶ˆæ¯
                </button>
              </div>
            </Transition>
          </div>
          
          <!-- è”ç³»ä¿¡æ¯ -->
          <div class="contact-info">
            <h2 class="contact-info__title">è”ç³»æ–¹å¼</h2>
            <div class="contact-info__list">
              <div v-for="info in contactInfo" :key="info.label" class="contact-info__item">
                <span class="contact-info__icon">{{ info.icon }}</span>
                <div>
                  <span class="contact-info__label">{{ info.label }}</span>
                  <span class="contact-info__value">{{ info.value }}</span>
                </div>
              </div>
            </div>
            
            <div class="contact-info__map">
              <div class="contact-info__map-placeholder">
                ğŸ—ºï¸ åœ°å›¾åŠ è½½ä¸­...
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<style lang="scss" scoped>
@use 'sass:map';

.contact-hero {
  text-align: center;
  
  &__container {
    max-width: 800px;
    margin-inline: auto;
  }
  
  &__title {
    font-size: font-size('5xl');
    margin-top: spacing('4');
    margin-bottom: spacing('6');
  }
  
  &__desc {
    font-size: font-size('lg');
    color: var(--color-text-secondary);
  }
}

.contact-main {
  &__grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: spacing('8');
    
    @include respond-below('lg') {
      grid-template-columns: 1fr;
    }
  }
}

.contact-form {
  &__title {
    font-size: font-size('2xl');
    margin-bottom: spacing('6');
  }
  
  &__row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: spacing('4');
    
    @include mobile-only {
      grid-template-columns: 1fr;
    }
  }
  
  &__success {
    text-align: center;
    padding: spacing('8');
  }
  
  &__success-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 80px;
    height: 80px;
    font-size: 2.5rem;
    color: #{color('dark')};
    background: linear-gradient(135deg, color('primary'), color('accent'));
    border-radius: 50%;
    margin-bottom: spacing('6');
  }
  
  &__success h2 {
    margin-bottom: spacing('3');
  }
  
  &__success p {
    color: var(--color-text-secondary);
    margin-bottom: spacing('6');
  }
}

.form-group {
  margin-bottom: spacing('4');
  
  label {
    display: block;
    font-size: font-size('sm');
    font-weight: map.get($font-weights, 'medium');
    color: var(--color-text-primary);
    margin-bottom: spacing('2');
  }
  
  input,
  select,
  textarea {
    width: 100%;
    padding: spacing('3') spacing('4');
    font-size: font-size('base');
    color: var(--color-text-primary);
    background: var(--color-bg-muted);
    border: 1px solid var(--color-border);
    border-radius: map.get($radius, 'lg');
    @include transition(all);
    
    &::placeholder {
      color: var(--color-text-muted);
    }
    
    &:hover {
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    &:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }
  }
  
  select {
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 16px;
  }
  
  textarea {
    resize: vertical;
    min-height: 120px;
  }
}

.contact-info {
  &__title {
    font-size: font-size('2xl');
    margin-bottom: spacing('6');
  }
  
  &__list {
    @include flex(column, flex-start, stretch);
    gap: spacing('4');
    margin-bottom: spacing('8');
  }
  
  &__item {
    @include flex(row, flex-start, flex-start);
    gap: spacing('4');
  }
  
  &__icon {
    @include flex-center;
    width: 48px;
    height: 48px;
    font-size: 1.25rem;
    background: rgba(0, 212, 255, 0.1);
    border-radius: map.get($radius, 'lg');
    flex-shrink: 0;
  }
  
  &__label {
    display: block;
    font-size: font-size('sm');
    color: var(--color-text-muted);
    margin-bottom: spacing('1');
  }
  
  &__value {
    display: block;
    font-weight: map.get($font-weights, 'medium');
    color: var(--color-text-primary);
  }
  
  &__map {
    border-radius: map.get($radius, 'xl');
    overflow: hidden;
    background: var(--color-bg-muted);
  }
  
  &__map-placeholder {
    @include flex-center;
    height: 200px;
    font-size: 1.5rem;
    color: var(--color-text-muted);
  }
}

.fade-enter-active,
.fade-leave-active {
  transition: opacity 300ms ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}
</style>

